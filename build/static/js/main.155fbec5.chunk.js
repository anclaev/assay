(this.webpackJsonpassay=this.webpackJsonpassay||[]).push([[0],{20:function(e,t,n){e.exports={quiz:"Quiz_quiz__A7T8L",title:"Quiz_title__10gVm",wrapper:"Quiz_wrapper__3fPEN",empty:"Quiz_empty__2VcZ7"}},21:function(e,t,n){e.exports={all:"All_all__kD0We",title:"All_title__33Qwu",wrapper:"All_wrapper__2EDhp",item:"All_item__30XIk",empty:"All_empty__1ytoM"}},24:function(e,t,n){e.exports={auth:"Auth_auth__3dLpk",title:"Auth_title__1SsZG",wrapper:"Auth_wrapper__2QhjJ",form:"Auth_form__cQ3Mc"}},25:function(e,t,n){e.exports={new:"New_new__1Bf-l",title:"New_title__2gIpE",wrapper:"New_wrapper__fQRfn",form:"New_form__1DKiA"}},29:function(e,t,n){e.exports={drawer:"Drawer_drawer__36wCz",close:"Drawer_close__dTpcJ",active:"Drawer_active__3TzXI"}},30:function(e,t,n){e.exports={finish:"FinishedQuiz_finish__ewr97",nice:"FinishedQuiz_nice__3sAAk",success:"FinishedQuiz_success__1WzcP",error:"FinishedQuiz_error__1Sx-n"}},34:function(e,t,n){e.exports={icon:"MenuToggle_icon__2TJst",open:"MenuToggle_open__3QXXo"}},35:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__Bf6eJ",show:"Backdrop_show__2-dVz",hide:"Backdrop_hide__tP7Pf"}},38:function(e,t,n){e.exports={activeQuiz:"ActiveQuiz_activeQuiz__iEXIz",question:"ActiveQuiz_question__3cFTQ"}},39:function(e,t,n){e.exports={item:"AnswerItem_item__1Qnkm",success:"AnswerItem_success__2gwc3",error:"AnswerItem_error__lTYt1"}},40:function(e,t,n){e.exports={input:"Input_input__1TzkN",error:"Input_error__3J9NN"}},52:function(e,t,n){e.exports={layout:"Layout_layout__pmHQS"}},53:function(e,t,n){e.exports={list:"AnswersList_list__37QaT"}},54:function(e,t,n){e.exports={button:"Button_button__2PJ04"}},55:function(e,t,n){e.exports={loader:"Loader_loader__278K-"}},56:function(e,t,n){e.exports={select:"Select_select__1XgWw"}},58:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);n(58);var r=n(1),a=n.n(r),i=n(26),s=n.n(i),c=n(17),o=n(7),u=n(2),l="FETCH_QUIZES_START",d="FETCH_QUIZES_SUCCESS",p="FETCH_QUIZES_ERROR",h="FETCH_QUIZE_SUCCESS",j="QUIZ_SET_STATE",b="QUIZ_NEXT_QUESTION",v="QUIZ_RETRY",f="FINISH_QUIZ",m="CREATE_QUIZ_QUESTION",O="RESET_QUIZ_CREATION",x="AUTH_SUCCESS",_="AUTH_LOGOUT",g={token:null};var w=n(57),z={quiz:[]};var y={quizes:[],loading:!0,emptyFlag:!1,error:null,results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case d:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,quizes:t.quizes});case p:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:t.error,emptyFlag:t.emptyFlag});case h:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,quiz:t.quiz});case j:return Object(u.a)(Object(u.a)({},e),{},{results:t.results,answerState:t.answerState});case f:return Object(u.a)(Object(u.a)({},e),{},{isFinished:!0});case b:return Object(u.a)(Object(u.a)({},e),{},{answerState:null,activeQuestion:t.number});case v:return Object(u.a)(Object(u.a)({},e),{},{results:{},isFinished:!1,activeQuestion:0,answerState:null});default:return e}},k=Object(c.c)({quiz:q,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{quiz:[].concat(Object(w.a)(e.quiz),[t.item])});case O:return Object(u.a)(Object(u.a)({},e),{},{quiz:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(u.a)(Object(u.a)({},e),{},{token:t.token});case _:return Object(u.a)(Object(u.a)({},e),{},{token:null});default:return e}}}),C=n(51),Q=n(5),A=n(6),N=n(9),S=n(8),I=n(4),F=n(15),T=n.n(F),H=n(18),E=n(28),D=n.n(E);function U(e){return{type:x,token:e}}function M(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:_}}function L(e){return function(t){setTimeout((function(){t(M())}),1e3*e)}}var V=n(52),Z=n.n(V),R=n(34),J=n.n(R),B=n(0),P=function(e){return Object(B.jsx)("i",{className:"".concat(J.a.icon," fa ").concat(e.isOpen?"fa-times "+J.a.open:"fa-bars"),onClick:e.onToggle})},X=n(16),W=n(29),Y=n.n(W),G=n(35),K=n.n(G),$=function(e){return Object(B.jsx)("div",{className:"".concat(K.a.backdrop," ").concat(K.a.show),onClick:e.onClick})},ee=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(Q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).clickHandler=function(){e.props.onClose()},e}return Object(A.a)(n,[{key:"renderLinks",value:function(e){var t=this;return e.map((function(e,n){return Object(B.jsx)("li",{children:Object(B.jsx)(X.c,{to:e.to,exact:e.exact,activeClassName:Y.a.active,onClick:t.clickHandler,children:e.name})},n)}))}},{key:"render",value:function(){var e=[{to:"/",name:"\u041a\u0432\u0438\u0437\u044b",exact:!0}];return this.props.isAuth?(e.push({to:"/new",name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",exact:!1}),e.push({to:"/logout",name:"\u0412\u044b\u0439\u0442\u0438",exact:!1})):e.push({to:"/auth",name:"\u0412\u043e\u0439\u0442\u0438",exact:!1}),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("nav",{className:"".concat(Y.a.drawer," ").concat(this.props.isOpen?"":Y.a.close),children:Object(B.jsx)("ul",{children:this.renderLinks(e)})}),this.props.isOpen?Object(B.jsx)($,{onClick:this.clickHandler}):null]})}}]),n}(r.Component),te=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(Q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.closeMenuHandler=function(){e.setState({menu:!1})},e}return Object(A.a)(n,[{key:"render",value:function(){return Object(B.jsxs)("div",{className:Z.a.layout,children:[Object(B.jsx)(ee,{isOpen:this.state.menu,onClose:this.closeMenuHandler,isAuth:this.props.isAuth}),Object(B.jsx)(P,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(B.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component),ne=Object(o.b)((function(e){return{isAuth:!!e.auth.token}}))(te),re=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return Object(B.jsx)(I.a,{to:"/"})}}]),n}(r.Component),ae=Object(o.b)(null,(function(e){return{logout:function(){e(M())}}}))(re),ie=n(20),se=n.n(ie),ce=n(38),oe=n.n(ce),ue=n(53),le=n.n(ue),de=n(39),pe=n.n(de),he=function(e){return Object(B.jsx)("li",{className:"".concat(pe.a.item," ").concat(e.state?pe.a[e.state]:""),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},je=function(e){return Object(B.jsx)("ul",{className:le.a.list,children:e.answers.map((function(t,n){return Object(B.jsx)(he,{answer:t,state:e.state?e.state[t.id]:null,onAnswerClick:e.onAnswerClick},n)}))})},be=function(e){return Object(B.jsxs)("div",{className:oe.a.activeQuiz,children:[Object(B.jsxs)("p",{className:oe.a.question,children:[Object(B.jsx)("span",{children:e.question}),Object(B.jsxs)("small",{children:[e.answerNumber," \u0438\u0437 ",e.quizLength]})]}),Object(B.jsx)(je,{state:e.state,answers:e.answers,onAnswerClick:e.onAnswerClick})]})},ve=n(30),fe=n.n(ve),me=n(54),Oe=n.n(me),xe=function(e){return Object(B.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:Oe.a.button,children:e.children})},_e=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(B.jsxs)("div",{className:fe.a.finish,children:[Object(B.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["fa","error"===e.results[t.id]?"fa-times":"fa-check",fe.a[e.results[t.id]]];return Object(B.jsxs)("li",{children:[Object(B.jsxs)("strong",{children:[n+1,". "]})," ",t.question," ",Object(B.jsx)("i",{className:r.join(" ")})]},n)}))}),Object(B.jsxs)("div",{className:fe.a.nice,children:[Object(B.jsxs)("span",{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",t," \u0438\u0437 ",e.quiz.length]}),Object(B.jsx)(xe,{onClick:e.onRetry,children:"\u041f\u0440\u043e\u0439\u0442\u0438 \u0435\u0449\u0451 \u0440\u0430\u0437"}),Object(B.jsx)(X.b,{to:"/",children:Object(B.jsx)(xe,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u0435\u0441\u0442\u0430\u043c"})})]})]})},ge=n(55),we=n.n(ge),ze=function(e){return Object(B.jsxs)("div",{className:we.a.loader,children:[Object(B.jsx)("div",{}),Object(B.jsx)("div",{})]})},ye=n(23),qe=D.a.create({baseURL:"https://ancla-assay-default-rtdb.firebaseio.com/quizes"});function ke(){return{type:l}}function Ce(e,t,n){return{type:d,quizes:e,emptyFlag:n}}function Qe(e){return{type:h,quiz:e}}function Ae(e,t){return{type:p,emptyFlag:t,error:e}}function Ne(e,t){return{type:j,answerState:e,results:t}}function Se(e){return function(t,n){var r=n().quiz;if(r.answerState){var a=Object.keys(r.answerState)[0];if("success"===r.answerState[a])return}var i=r.quiz[r.activeQuestion],s=r.results;i.rightAnswerId===e?(s[r.activeQuestion+1]||(s[r.activeQuestion+1]="success"),t(Ne(Object(ye.a)({},e,"success"),s))):(s[r.activeQuestion+1]||(s[r.activeQuestion+1]="error"),t(Ne(Object(ye.a)({},e,"error"),s)));var c=window.setTimeout((function(){var e;Ie(r)?t({type:f}):t((e=r.activeQuestion+1,{type:b,number:e})),window.clearTimeout(c)}),1e3)}}var Ie=function(e){return e.activeQuestion+1===e.quiz.length},Fe=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuizById(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.retryQuiz()}},{key:"render",value:function(){return Object(B.jsx)("div",{className:se.a.quiz,children:Object(B.jsx)("div",{className:se.a.wrapper,children:this.props.emptyFlag?Object(B.jsx)("span",{className:se.a.empty,children:this.props.error}):this.props.loading?Object(B.jsx)(ze,{}):this.props.isFinished?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h1",{className:se.a.title,children:this.props.quiz[this.props.activeQuestion].quizName.value}),Object(B.jsx)(_e,{results:this.props.results,quiz:this.props.quiz,onRetry:this.props.retryQuiz})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h1",{className:se.a.title,children:this.props.quiz[this.props.activeQuestion].quizName.value}),Object(B.jsx)(be,{answers:this.props.quiz[this.props.activeQuestion].answers,question:this.props.quiz[this.props.activeQuestion].question,quizLength:this.props.quiz.length,answerNumber:this.props.activeQuestion+1,onAnswerClick:this.props.quizAnswerClick,state:this.props.answerState})]})})})}}]),n}(r.Component),Te=Object(o.b)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,loading:e.quiz.loading,emptyFlag:e.quiz.emptyFlag,error:e.quiz.error}}),(function(e){return{fetchQuizById:function(t){return e((n=t,function(){var e=Object(H.a)(T.a.mark((function e(t){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ke()),e.prev=1,e.next=4,qe.get("/".concat(n,".json"));case 4:null!==(r=e.sent).data?(a=r.data,t(Qe(a))):t(Ae("\u0422\u0430\u043a\u043e\u0433\u043e \u043a\u0432\u0438\u0437\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442...",!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Ae(e.t0,!1));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()));var n},quizAnswerClick:function(t){return e(Se(t))},retryQuiz:function(){return e({type:v})}}}))(Fe),He=n(24),Ee=n.n(He),De=n(40),Ue=n.n(De),Me=function(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return n&&r&&!t},Le=function(e){var t=e.type||"text",n="".concat(t,"-").concat(Math.round(1e3*Math.random()));return Object(B.jsxs)("div",{className:"".concat(Ue.a.input," ").concat(Me(e)?Ue.a.error:null),children:[Object(B.jsx)("label",{htmlFor:n,children:e.label}),Object(B.jsx)("input",{type:t,id:n,value:e.value,onChange:e.onChange,disabled:e.disabled})]})},Ve=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(Q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"E-mail",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0,minLength:8}}}},e.submitHandler=function(e){e.preventDefault()},e.onChangeHandler=function(t,n){var r=Object(u.a)({},e.state.formControls),a=Object(u.a)({},r[n]);a.value=t.target.value,a.touched=!0,a.valid=e.validate(a.value,a.validation),r[n]=a;var i=!0;Object.keys(r).forEach((function(e){i=r[e].valid&&i})),e.setState({isFormValid:i,formControls:r})},e.loginHandler=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.email.value,!0)},e.registerHandler=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.email.value,!1)},e}return Object(A.a)(n,[{key:"validate",value:function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(B.jsx)(Le,{type:r.type,value:r.value,valid:r.valid,touched:r.touched,label:r.label,shouldValidate:!!r.validation,onChange:function(n){return e.onChangeHandler(n,t)}},t+n)}))}},{key:"render",value:function(){return Object(B.jsx)("div",{className:Ee.a.auth,children:Object(B.jsxs)("div",{className:Ee.a.wrapper,children:[Object(B.jsx)("h1",{className:Ee.a.title,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(B.jsxs)("form",{onSubmit:this.submitHandler,className:Ee.a.form,children:[this.renderInputs(),Object(B.jsx)(xe,{onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"\u041f\u043e\u0435\u0445\u0430\u043b\u0438!"}),Object(B.jsx)(xe,{onClick:this.registerHandler,disabled:!this.state.isFormValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}]),n}(r.Component);var Ze=Object(o.b)(null,(function(e){return{auth:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(H.a)(T.a.mark((function r(a){var i,s,c,o,u;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={email:e,password:t,returnSecureToken:!0},r.prev=1,s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDej6nufkw-mrnFVAlE3PHMCOz0sJDpYk0",n&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDej6nufkw-mrnFVAlE3PHMCOz0sJDpYk0"),r.next=6,D.a.post(s,i);case 6:c=r.sent,o=c.data,u=new Date((new Date).getTime()+1e3*o.expiresIn),localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("expirationDate",u),a(U(o.idToken)),a(L(o.expiresIn)),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),console.log("Error: ",r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))(Ve),Re=n(25),Je=n.n(Re),Be=n(56),Pe=n.n(Be),Xe=function(e){var t="".concat(e.label,"-").concat(1e3*Math.random());return Object(B.jsxs)("div",{className:Pe.a.select,children:[Object(B.jsx)("label",{htmlFor:t,children:e.label}),Object(B.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(B.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})};function We(e,t){return Object(u.a)(Object(u.a)({},e),{},{validation:t,valid:!t,touched:!1,value:e.value?e.value:""})}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}function Ge(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}var Ke=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(Q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,rightAnswerId:1,formControls:{quizName:We({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0438\u0437\u0430"},{required:!0}),question:We({label:"\u0412\u043e\u043f\u0440\u043e\u0441"},{required:!0}),option1:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21161",id:1},{required:!0}),option2:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21162",id:2},{required:!0}),option3:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21163",id:3},{required:!0}),option4:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21164",id:4},{required:!0})},options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}]},e.submitHandler=function(e){return e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.formControls,r=n.quizName,a=n.question,i=n.option1,s=n.option2,c=n.option3,o=n.option4,u={quizName:r,question:a.value,id:e.props.quiz.length+1,rightAnswerId:e.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:s.value,id:s.id},{text:c.value,id:c.id},{text:o.value,id:o.id}]};e.setState({isFormValid:!1,rightAnswerId:1,formControls:{quizName:We({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0438\u0437\u0430",value:r.value,disabled:!0},{required:!0}),question:We({label:"\u0412\u043e\u043f\u0440\u043e\u0441"},{required:!0}),option1:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21161",id:1},{required:!0}),option2:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21162",id:2},{required:!0}),option3:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21163",id:3},{required:!0}),option4:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21164",id:4},{required:!0})},options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}]}),e.props.createQuizQuestion(u)},e.createQuizeHandler=function(t){t.preventDefault(),e.props.finishCreateQuiz(),e.setState({isFormValid:!1,rightAnswerId:1,formControls:{quizName:We({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0438\u0437\u0430"},{required:!0}),question:We({label:"\u0412\u043e\u043f\u0440\u043e\u0441"},{required:!0}),option1:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21161",id:1},{required:!0}),option2:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21162",id:2},{required:!0}),option3:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21163",id:3},{required:!0}),option4:We({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21164",id:4},{required:!0})},options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}]})},e.changeHandler=function(t,n){var r=Object(u.a)({},e.state.formControls),a=e.state.options,i=Object(u.a)({},r[n]);if(i.touched=!0,i.value=t,i.valid=Ye(i.value,i.validation),r[n]=i,"option"===n.slice(0,n.length-1)){var s=n.slice(n.length-1,n.length);a[s-1].text=i.valid?t:s}e.setState({formControls:r,options:a,isFormValid:Ge(r)})},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(A.a)(n,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0438\u0437\u0430"===r.label&&r.disabled&&(r.valid=!0),Object(B.jsx)(Le,{label:r.label,value:r.value,valid:r.valid,shouldValidate:!!r.validation,touched:r.touched,type:r.type,disabled:!!r.disabled&&r.disabled,onChange:function(n){return e.changeHandler(n.target.value,t)}},t+n)}))}},{key:"render",value:function(){var e=Object(B.jsx)(Xe,{label:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:this.state.options});return Object(B.jsx)("div",{className:Je.a.new,children:Object(B.jsxs)("div",{className:Je.a.wrapper,children:[Object(B.jsx)("h1",{className:Je.a.title,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0432\u0438\u0437"}),Object(B.jsxs)("form",{onSubmit:this.submitHandler,className:Je.a.form,children:[this.renderInputs(),e,Object(B.jsx)(xe,{onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(B.jsx)(xe,{onClick:this.createQuizeHandler,disabled:0===this.props.quiz.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"})]})]})})}}]),n}(r.Component),$e=Object(o.b)((function(e){return{quiz:e.create.quiz}}),(function(e){return{createQuizQuestion:function(t){return e(function(e){return{type:m,item:e}}(t))},finishCreateQuiz:function(){return e(function(){var e=Object(H.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.post(".json",n().create.quiz);case 2:t({type:O});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Ke),et=n(21),tt=n.n(et),nt=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(Q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderQuizes=function(){return e.props.quizes.map((function(e){return Object(B.jsx)("li",{className:tt.a.item,children:Object(B.jsx)(X.c,{to:"/quiz/".concat(e.id),children:e.name})},e.id)}))},e}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuizes()}},{key:"render",value:function(){return Object(B.jsx)("div",{className:tt.a.all,children:Object(B.jsxs)("div",{className:tt.a.wrapper,children:[Object(B.jsx)("h1",{className:tt.a.title,children:"\u041a\u0432\u0438\u0437\u044b"}),this.props.emptyFlag?Object(B.jsx)("span",{className:tt.a.empty,children:this.props.error}):null,this.props.loading?Object(B.jsx)(ze,{}):Object(B.jsx)("ul",{children:this.renderQuizes()})]})})}}]),n}(r.Component),rt=Object(o.b)((function(e){return{quizes:e.quiz.quizes,loading:e.quiz.loading,emptyFlag:e.quiz.emptyFlag,error:e.quiz.error}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=Object(H.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ke()),e.prev=1,e.next=4,qe.get(".json");case 4:n=e.sent,r=[],null!=n.data?(Object.keys(n.data).forEach((function(e,t){r.push({id:e,name:"".concat(t+1,". ").concat(n.data[e][0].quizName.value)})})),t(Ce(r))):t(Ae("\u041a\u0432\u0438\u0437\u044b \u0435\u0449\u0451 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b.",!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Ae(e.t0,!1));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(nt),at=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){var e=Object(B.jsxs)(I.d,{children:[Object(B.jsx)(I.b,{path:"/auth",component:Ze}),Object(B.jsx)(I.b,{path:"/quiz/:id",component:Te}),Object(B.jsx)(I.b,{path:"/",exact:!0,component:rt}),Object(B.jsx)(I.a,{to:"/"})]});return this.props.isAuth&&(e=Object(B.jsxs)(I.d,{children:[Object(B.jsx)(I.b,{path:"/quiz/:id",component:Te}),Object(B.jsx)(I.b,{path:"/new",component:$e}),Object(B.jsx)(I.b,{path:"/logout",component:ae}),Object(B.jsx)(I.b,{path:"/",exact:!0,component:rt}),Object(B.jsx)(I.a,{to:"/"})]})),Object(B.jsx)(ne,{children:e})}}]),n}(r.Component);var it=Object(I.g)(Object(o.b)((function(e){return{isAuth:!!e.auth.token}}),(function(e){return{autoLogin:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(M()):(e(U(t)),e(L((n.getTime()-(new Date).getTime())/1e3)))}else e(M())}))}}}))(at)),st=Object(c.d)(k,Object(c.a)(C.a));s.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(o.a,{store:st,children:Object(B.jsx)(X.a,{children:Object(B.jsx)(it,{})})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.155fbec5.chunk.js.map